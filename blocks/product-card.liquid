{% doc %}
  Renders a product-card block.
  Uses placeholder content for now
{% enddoc %}

{% assign variant_names = "Orange,Green,Blue,Yellow,Pink,Navy Blue" | split: "," %}
{% assign variant_hexes = "#ff6633,#006600,#00639c,#fce78d,#ffccff,#19264b" | split: "," %}

<div class="product">
  <div class="image">
    <img
      src="{{ 'img-placeholder-default.png' | asset_url }}"
      alt="Plain T-Shirt default view"
      class="product-image default"
      width="300"
      height="300"
    >
    <img
      src="{{ 'img-placeholder-hover.png' | asset_url }}"
      alt="Plain T-Shirt hover view"
      class="product-image hover"
      width="300"
      height="300"
    >
    <div class="badge-sale">
      <p>On Sale!</p>
    </div>
  </div>
  <div class="info">
    <div class="variant-swatches">
      {% for name in variant_names %}
        {% assign hex = variant_hexes[forloop.index0] %}
        <label
          class="variant-swatch swatch-{{ name | handle }}"
          style="--swatch-color: {{ hex }};">
          <input
            type="radio"
            name="radio-{{ block.id }}"
            value="{{ name | handle }}"
            class="variant-swatch-input"
            {% if forloop.first %}checked{% endif %}
          >
          <span class="variant-swatch-title">{{ name }}</span>
        </label>
      {% endfor %}
    </div>
    <h3 class="product-brand">Good Brand Company</h3>
    <h3 class="product-name">Plain T-Shirt</h3>
    <div class="price">
      <span class="original">$29.50</span>
      <span class="discounted">$20.00</span>
    </div>
  </div>
</div>

{% stylesheet %}
  .product {
    padding: 27px;
    background-color: white;

    .image {
      position: relative;
      display: inline-block;
      border: solid 1px #E8E8E8;
      border-radius: 20px;

      .product-image {
        display: block;
        width: 100%;
        height: auto;

        &.hover {
          position: absolute;
          top: 0;
          left: 0;
          opacity: 0;
          transition: opacity 0.3s ease;
        }
      }

      &:hover {
        .product-image {
          &.hover {
            opacity: 1;
          }

          &.default {
            opacity: 0;
          }
        }
      }

      .badge-sale {
        color: red;
        font-weight: 600;
        font-size: 16px;
        background-color: white;
        border: solid 1px red;
        border-radius: 16px;
        padding: 6.4px 12.8px;
        position: absolute;
        top: 20px;
        left: 20px;
      }
    }

    .info { 
      display: flex;
      flex-direction: column;
      gap: 6px;

      .variant-swatches {
        .variant-swatch {
          background-color: var(--swatch-color);
        }
      }

      .product-brand {
        font-weight: 400;
        font-size: 14px;
      }

      .product-name {
        color: #0A4874;
        font-size: 16px;
        font-weight: 600;
      }

      .price {
        display: flex;
        flex-direction: row;
        gap: 8px;
        font-size: 14px;

        .original {
          text-decoration: line-through;
          color: #111111;
        }

        .discounted {
          color: red;
        }
      }
    }
  }
{% endstylesheet %}

{% schema %}
{
  "name": "Product Card",
  "settings": [
  ],
  "presets": [
    { "name": "Product Card" }
  ]
}
{% endschema %}